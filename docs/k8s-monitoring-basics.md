# K8s监控基础知识

## 什么是Kubernetes监控？

想象K8s集群是一个"城市"：
- **Pods** = 城市里的建筑
- **Services** = 城市的邮政系统
- **Nodes** = 城市的土地
- **Events** = 城市的事件记录

我们的监控系统就是这个城市的"智能管理员"。

## 传统监控 vs LLM监控

### 传统监控
```
问题：Pod为什么重启？
├── 检查CPU使用率 > 80%？ 是 → 告警
├── 检查内存使用率 > 90%？ 是 → 告警
└── 检查OOM错误？ 是 → 告警
```
**问题**：只能发现已知的、简单的问题

### LLM监控
```
问题：Pod为什么重启？
├── 收集所有相关信息：日志、事件、配置、依赖关系
├── 理解上下文：这是一个Web服务器，依赖数据库
├── 智能分析：发现数据库连接失败导致Pod崩溃
└── 自然语言建议："检查数据库服务状态，并增加重启重试机制"
```
**优势**：能理解复杂的业务逻辑，提供深度分析

## 我们代码的核心思路

### 1. 数据收集层（`internal/k8s/`）
- `client.go`: 连接K8s集群的"桥梁"
- `watcher.go`: 实时监控集群变化的"眼睛"
- `network.go`: 分析网络问题的"专家"

### 2. 数据模型层（`pkg/models/`）
- 定义了我们关心的数据结构
- 把K8s的复杂对象转换为简单的模型

### 3. 应用层（未来的LLM分析）
- 用收集的数据进行智能分析
- 提供自然语言的诊断结果